<!DOCTYPE html>
<html lang="en">

<head>
    <title>Consultar_Clientes</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css"
        href="https://cdn.datatables.net/r/bs-3.3.5/jq-2.1.4,dt-1.10.8/datatables.min.css" />
    <script type="text/javascript"
        src="https://cdn.datatables.net/r/bs-3.3.5/jqc-1.11.3,dt-1.10.8/datatables.min.js"></script>
</head>

<body>
    <div class="table-contenedor">
        <p>Clientes Registrados</p>
        <div class="container p-4">
            <div class="row">
                <table id="tabla-usuarios">
                    <thead>
                        <th>Cédula</th>
                        <th>Nombre</th>
                        <th>Apellido</th>
                        <th>Correo</th>
                        <th>Telefono</th>
                        <th>Dirección</th>
                        <th>Estado_Persona</th>
                        <th>Tipo_Persona</th>
                    </thead>
                    <tbody>
                        <button type="button" onclick="datos()">Probar prompt</button>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</body>

</html>
<script>
    const express = require('express');
    const router = express.Router();
    const path = require('path');
    const pool = require('../db/database');

    function datos(){
        var data = pool.query('SELECT CEDULA , NOMBRE , APELLIDO , CORREO , TELEFONO , DIRECCION , ESTADO_PERSONA , TIPO_PERSONAS_ID FROM PERSONAS WHERE TIPO_PERSONAS_ID = 6');
        //console.log(data);
        alert("xds");
        //return data;
    }

    var data = pool.query('SELECT CEDULA , NOMBRE , APELLIDO , CORREO , TELEFONO , DIRECCION , ESTADO_PERSONA , TIPO_PERSONAS_ID FROM PERSONAS WHERE TIPO_PERSONAS_ID = 6');
    console.log(data);
    $(document).ready(function () {
        $(`#tabla-usuarios`).DataTable({
            "ajax": datos(),
            "columns": [
                { "data": "CEDULA" },
                { "RowDataPacket": "NOMBRE" },
                { "RowDataPacket": "APELLIDO" },
                { "RowDataPacket": "CORREO" },
                { "RowDataPacket": "TELEFONO" },
                { "RowDataPacket": "DIRECCION" },
                { "RowDataPacket": "ESTADO_PERSONA" }
            ]
        });
    });  
</script>